/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/colorbox@0.5.2/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var quantize=require("quantize"),Jimp=require("jimp"),ColorBox={minVal:o=>Math.min.apply(null,o),maxVal:o=>Math.max.apply(null,o),getColorType:o=>{ColorBox.minVal(o);var r=ColorBox.maxVal(o);return{0:"R",1:"G",2:"B"}[o.indexOf(r)]},getLumSatValue:o=>{var r=ColorBox.maxVal(o),e=(r-ColorBox.minVal(o))/r;return 0==r?0:r+Math.round(255*e)},sortByLumSat:o=>o.slice(0).sort(((o,r)=>ColorBox.getLumSatValue(r)-ColorBox.getLumSatValue(o))),isGrayish:o=>ColorBox.minVal(o)+5>ColorBox.maxVal(o),getMostFrequentColorType:o=>{var r={},e=0,t="";return o.forEach((o=>{var a=ColorBox.getColorType(o);r[a]?r[a]+=1:r[a]=1,r[a]>e&&(e=r[a],t=a)})),t},getFirstFrequentColor:o=>{var r=ColorBox.getMostFrequentColorType(o);return o.filter((o=>ColorBox.getColorType(o)==r))[0]},requestDominantColorsFromImageByUrl:o=>new Promise(((r,e)=>{Jimp.read(o,(function(t,a){if(t)return console.error("Error reading image file...",o,t),e(t);const l=[];a.scan(0,0,a.bitmap.width,a.bitmap.height,(function(o,r,e){var t=this.bitmap.data[e+0],a=this.bitmap.data[e+1],n=this.bitmap.data[e+2];l.push([t,a,n])}));var n=quantize(l,256).palette();return n?r(n):e()}))})),getBaseColor:o=>ColorBox.getFirstFrequentColor(o),getAccentColor:o=>ColorBox.sortByLumSat(o)[0],getBaseAndAccentColor:o=>[ColorBox.getBaseColor(o),ColorBox.getAccentColor(o)],requestBaseAndAccentColorFromImageByUrl:o=>ColorBox.requestDominantColorsFromImageByUrl(o).then((o=>ColorBox.getBaseAndAccentColor(o))).catch((o=>{console.error("Error loading colors from image. err:",o)}))};module.exports=ColorBox;
//# sourceMappingURL=/sm/4f8598c00e7a559900dc36df2e6e4b5214e10eb0fa0661adc259103d955618f0.map